<h1>New Product</h1>
<form #f="ngForm" (ngSubmit)="submit()" novalidate>
    <div class="form-group">
        <label for="category">Category</label>
        <select id="category" class="form-control" (change)="onCatsChange()" [(ngModel)]="product.categoryId" name="cat" required #p="ngModel">
            <option value=""></option>
            <option *ngFor ="let p of categories"  value="{{p.id}}">{{p.name}}</option>
        </select>
    </div>
    <div class="alert alert-danger" *ngIf="p.touched && !p.valid">Oops</div>
    <div class="form-group">
        <label for="name">Name</label>
        <input class="form-control"[(ngModel)]="product.name" name="name" type="text" id="name" placeholder="Product Name" required #prod="ngModel">
    </div>    
    <div class="alert alert-danger" *ngIf="prod.touched && !prod.valid">Please provide the name.</div>
    <div class="form-group">
        <label for="description">Description</label>
        <textarea class="form-control" id="description" [(ngModel)]="product.description" name="description" placeholder="Product description" rows="3"></textarea>
    </div>      
    <div class="form-group">
        <label for="price">Price</label>
        <input class="form-control" type="number" id="price" [(ngModel)]="product.price" name="price">
    </div>    
    <button class="btn btn-primary" [disabled]="!f.valid">Save</button>
    <button class="btn btn-danger" type="button" (click)="delete()" >Delete</button>
</form>